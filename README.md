# 🧠 AutoPlan-D : Diffusion LLM 기반 생산 스케줄링 최적화 -기업 프로젝트(에이드올-공정 복잡계 최적화)
  
Diffusion 기반 대형 언어 모델(Diffusion LLM)이 생산 스케줄링 최적화 문제를 해결할 수 있는지를 실험적으로 탐색하는 프로젝트입니다.   
유전 알고리즘(GA)으로 생성한 최적 스케줄을 학습한 후, Diffusion LLM이 이를 재현하고 일반화할 수 있는지를 정량·정성 평가를 통해 검증합니다.



## 📌 프로젝트 개요

- **목적**  
  자연어로 표현된 생산 조건을 입력받아 Diffusion LLM이 스케줄링 결과를 생성할 수 있는지 실증합니다.

- **배경**  
  기존 메타휴리스틱(GA 등)은 복잡한 조건하의 문제 해결에 강하지만, 실시간성과 확장성에 한계가 있습니다. 반면, **Diffusion LLM**은 전역 계획력과 자기 교정 능력을 바탕으로 이산 최적화 문제에서도 강점을 가질 수 있습니다.

- **사용 모델**  
  - `SEDD`: Score-Entropy Discrete Diffusion Model  
  - `LLaDa`: Large Language Diffusion Architecture



## 🗂️ 디렉토리 구조

```
├── notebooks/ # 주요 실험 노트북
│ ├── 01_ga_scheduler.ipynb
│ ├── 02_data_converter.ipynb
│ ├── 03_finetune_llm.ipynb
│ └── 04_evaluation.ipynb
├── data/
│ ├── train/
│ └── test/
├── experiments/ # 추가 실험용 코드
├── models/ # 파인튜닝된 모델
├── results/ # 생성 결과 및 평가 파일
└── README.md
```

## 📋 데이터 구성 설명

### 🧪 주문 데이터

| 항목       | 설명                                 |
|------------|--------------------------------------|
| 도면 번호  | 주문 품목을 식별하는 고유 ID         |
| 주문 수량  | 해당 품목의 요청된 생산 수량         |
| 개당 비용  | 품목 하나를 생산할 때 드는 비용      |
| 긴급도     | 긴급 주문 여부 (0: 일반, >0: 긴급)  |
| 납기 기한  | 주문을 완료해야 하는 날짜            |

### ⚙️ 기계 정보

| 항목                | 설명                                |
|---------------------|-------------------------------------|
| 머신 번호           | 생산 기계를 식별하는 고유 ID        |
| 단위시간 처리 가능량 | 해당 기계가 단위 기간 내 처리 가능한 수량 |

---

## 🧪 데이터셋 개요

| 구분     | 낱개 샘플 수 | GA 결과 수 | 설명 |
|----------|--------------|-------------|------|
| Train    | 19,851개     | 365개       | 하루 54~55개 주문 기반, 1년치 스케줄 |
| Test     | 127개        | 26개        | 5개 주문에 대한 스케줄 비교용 |



## 🔁 전체 실험 흐름
```
(1) 주문·기계 데이터 구성
↓
(2) GA로 최적 스케줄 생성
↓
(3) 입력·출력 자연어 전환
↓
(4) Diffusion LLM 파인튜닝
↓
(5) 스케줄 생성 결과 비교 (GA vs LLM)
↓
(6) 정량/정성 평가
```


---

## 📈 평가 지표

- **F1 Score** – 생성 스케줄과 GA 스케줄 간 구조 유사도  
- **Load Variance** – 기계별 총 작업량 분산  
- **Composite Score** – 두 지표를 종합한 점수로 계산  

\[
\text{Score} = \alpha \cdot \text{F1} + (1 - \alpha) \cdot (1 - \text{LoadVariance\_Norm})
\]
(여기서 \(\alpha = 0.5\))



## 🧠 모델 성능 요약

| 모델   | F1 Score | Load Variance | Composite Score |
|--------|----------|----------------|------------------|
| SEDD   | 00    | 00          | 00            |
| LLaDa  | 00| 00        | 00        |




🧪 추가 실험
experiments/ 디렉토리에는 다양한 하이퍼파라미터, 프롬프트 구성, 샘플링 전략 실험들이 포함되어 있습니다.  
  


🔭 향후 연구 방향
- 실제 제조 데이터 기반으로 실험 확장

- 다목적 스케줄링 (납기, 비용, 에너지 등 동시 고려)

- 시뮬레이션 기반 평가 및 강화학습(RL) 접목

  
👨‍💻 기여자  
  
Team김노박 : 박상선, 김영만, 노규범  
  
홍성만 (멘토)  

김제필 (AidALL Inc.)  
